(this["webpackJsonpcapmo-frontend-challenge"]=this["webpackJsonpcapmo-frontend-challenge"]||[]).push([[0],{54:function(e,t,n){e.exports=n(64)},59:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),o=(n(59),n(11)),l=n(98),u=n(99),d=n(65),s=n(104),m=n(107),g=n(106),v={menu:{"Bacon & eggs":{Bacon:{Meat:{Pork:{}}},"Ham Eggs":{Egg:{}}},Hamburger:{Meat:{Pork:{}},Bread:{Flour:{},Water:{}},Cheese:{Milk:{}}},"English breakfast":{"Fried eggs":{Egg:{}},Mushrooms:{},Sausages:{Meat:{Pork:{}}},Bread:{Flour:{},Water:{}}}}};function f(e,t){var n=e.menu;switch(t.type){case"addNewMenu":return t.payload?(n[t.payload]={},{menu:n}):e;case"addNewIngredient":var a=t.payload,r=a.selectedMenu,i=a.newIngredient;if(!i)return e;var c=r.split(" -> "),l=n;return c.forEach((function(e){for(var t=0;t<Object.entries(l).length;t++){var n=Object.entries(l)[t],a=Object(o.a)(n,2),r=a[0],i=a[1];if(console.log(r,i),r===e){l=i;break}}})),l[i]={},{menu:n};default:throw new Error}}var h=Object(a.createContext)(),b=function(e){var t=e.children,n=Object(a.useReducer)(f,v),i=Object(o.a)(n,2),c=i[0],l=i[1];return r.a.createElement(h.Provider,{value:[c.menu,l]},t)},E=function(e){var t=e.text,n=void 0===t?"provide text":t,a=e.depth,i=void 0===a?1:a,c=e.selection;return r.a.createElement(d.a,{variant:"h"+Math.min(6,i+3)},i>1&&"\u2514",i>1&&c?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.replace(new RegExp(c,"gi"),(function(e){return"<mark>".concat(e,"</mark>")}))}}):n)},p=function e(t){var n=t.menu,i=void 0===n?{}:n,c=t.depth,l=void 0===c?1:c,u=t.selection,d=void 0===u?"":u,s=Object(a.useState)(!1),m=Object(o.a)(s,2),g=m[0],v=m[1];if(1===l&&!function e(t,n,a){if(""===a)return!0;var r=Object(o.a)(t,2),i=r[0],c=r[1];return!!(n>1&&i.match(new RegExp(a,"gi")))||Object.entries(c).map((function(t){return e(t,n+1,a)})).includes(!0)}(i,l,d))return null;var f=Object(o.a)(i,2),h=f[0],b=f[1],p=(g||l>1)&&Object.entries(b).map((function(t,n){return r.a.createElement(e,{key:"sub-item-"+n,menu:t,depth:l+1,selection:d})}));return r.a.createElement("div",{style:{border:"none thin gray",paddingLeft:20*l},onClick:function(){return v(!g)}},r.a.createElement(E,{text:h,depth:l,selection:d}),p)},j=n(100),O=n(103),w=n(105),y=n(108),k=function(){var e=Object(a.useContext)(h),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object.entries(n).flatMap((function(e){return function e(t){var n=Object(o.a)(t,2),a=n[0],r=n[1],i=[a],c=Object.entries(r);c.length>0&&c.flatMap((function(t){return e(t)})).forEach((function(e){i.push(a+" -> "+e)}));return i}(e)})),s=Object(a.useState)(""),m=Object(o.a)(s,2),v=m[0],f=m[1],b=Object(a.useState)(c[0]),E=Object(o.a)(b,2),p=E[0],k=E[1],M=Object(a.useState)(""),C=Object(o.a)(M,2),x=C[0],S=C[1];return r.a.createElement("div",{style:{margin:50,border:"thin solid",padding:10}},r.a.createElement(l.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:"h5"},"Adding items or ingredients to the Menu"))),r.a.createElement(j.a,{row:!0,style:{padding:20}},r.a.createElement(g.a,{variant:"outlined",value:v,onChange:function(e){return f(e.target.value)},label:"new menu item"}),r.a.createElement(O.a,{variant:"outlined",onClick:function(){i({type:"addNewMenu",payload:v}),f("")}},"Add new menu item")),r.a.createElement(j.a,{row:!0,style:{padding:20}},r.a.createElement(w.a,{autoWidth:!0,value:p,variant:"outlined",onChange:function(e){return k(e.target.value)}},c.map((function(e){return r.a.createElement(y.a,{key:e,selected:!0,value:e},e)}))),r.a.createElement(g.a,{variant:"outlined",label:"ingridient",value:x,onChange:function(e){return S(e.target.value)}}),r.a.createElement(O.a,{variant:"outlined",onClick:function(){i({type:"addNewIngredient",payload:{newIngredient:x,selectedMenu:p}}),S("")}},"Add ingridient to menu item")))},M=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),v=Object(o.a)(c,2),f=v[0],b=v[1],E=Object(a.useContext)(h),j=Object(o.a)(E,1)[0];return r.a.createElement("div",null,r.a.createElement(l.a,{position:"static",style:{marginBottom:10}},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:"h3"},"Restaurent Menu"))),r.a.createElement(s.a,{control:r.a.createElement(m.a,{checked:f,onChange:function(e){return b(!f)}}),label:"Allow adding to Menu"}),r.a.createElement(g.a,{value:n,onChange:function(e){return i(e.target.value)},label:"Search for allergen",variant:"outlined"}),r.a.createElement("div",{style:{margin:15,border:"thin solid navy"}},r.a.createElement("div",{style:{margin:5,padding:10,border:"thin solid navy"}},Object.entries(j).map((function(e,t){return r.a.createElement(p,{key:"menu-item"+t,menu:e,selection:n})})))),f&&r.a.createElement(k,null))},C=(n(63),function(){return r.a.createElement(b,null,r.a.createElement("div",{className:"App"},r.a.createElement(M,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.b870e99f.chunk.js.map