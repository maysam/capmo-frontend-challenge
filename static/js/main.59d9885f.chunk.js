(this["webpackJsonpcapmo-frontend-challenge"]=this["webpackJsonpcapmo-frontend-challenge"]||[]).push([[0],{54:function(e,t,n){e.exports=n(64)},59:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(9),i=n.n(c),l=(n(59),n(12)),o=n(98),u=n(99),d=n(65),s=n(104),m=n(107),v=n(106),g={menu:[{"Bacon & eggs":[{Bacon:[{Meat:[{Pork:[]}]}]},{"Ham Eggs":[{Egg:[]}]}]},{Hamburger:[{Meat:[{Pork:[]}]},{Bread:[{Flour:[]},{Water:[]}]},{Cheese:[{Milk:[]}]}]},{"English breakfast":[{"Fried eggs":[{Egg:[]}]},{Mushrooms:[]},{Sausages:[{Meat:[{Pork:[]}]}]},{Bread:[{Flour:[]},{Water:[]}]}]}]};function h(e,t){var n=e.menu,a={};switch(t.type){case"addNewMenu":return t.payload?(a[t.payload]=[],n.push(a),{menu:n}):e;case"addNewIngredient":var r=t.payload,c=r.selectedMenu,i=r.newIngredient;if(!i)return e;var l=c.split(" -> "),o=e.menu;return l.forEach((function(e){for(var t=0;t<Object.values(o).length;t++){var n=Object.values(o)[t],a=Object.keys(n)[0];if(a===e){o=n[a];break}}})),a[i]=[],o.push(a),{menu:n};default:throw new Error}}var f=Object(a.createContext)(),p=function(e){var t=e.children,n=Object(a.useReducer)(h,g),c=Object(l.a)(n,2),i=c[0],o=c[1];return r.a.createElement(f.Provider,{value:[i.menu,o]},t)},E=function(e){var t=e.text,n=void 0===t?"provide text":t,a=e.depth,c=void 0===a?1:a,i=e.selection;return r.a.createElement(d.a,{variant:"h"+Math.min(6,c+3)},c>1&&"\u2514",c>1&&i?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.replace(new RegExp(i,"gi"),(function(e){return"<mark>".concat(e,"</mark>")}))}}):n)},b=function e(t){var n=t.menu,c=void 0===n?{}:n,i=t.depth,o=void 0===i?1:i,u=t.selection,d=void 0===u?"":u,s=Object(a.useState)(!1),m=Object(l.a)(s,2),v=m[0],g=m[1];if(1===o&&!function e(t,n,a){if(""===a)return!0;var r=Object.keys(t)[0];return!!(n>1&&r.match(new RegExp(a,"gi")))||Object.values(t)[0].map((function(t){return e(t,n+1,a)})).includes(!0)}(c,o,d))return null;var h=Object.keys(c)[0],f=Object.values(c)[0],p=(v||o>1)&&f.map((function(t,n){return r.a.createElement(e,{key:"sub-item-"+n,menu:t,depth:o+1,selection:d})}));return r.a.createElement("div",{style:{border:"none thin gray",paddingLeft:20*o},onClick:function(){return g(!v)}},r.a.createElement(E,{text:h,depth:o,selection:d}),p)},j=n(100),y=n(103),O=n(105),w=n(108),k=function(){var e=Object(a.useContext)(f),t=Object(l.a)(e,2),n=t[0],c=t[1],i=n.flatMap((function(e){return function e(t){var n=Object.keys(t)[0],a=[n],r=Object.values(t)[0];r.length>0&&r.flatMap((function(t){return e(t)})).forEach((function(e){a.push(n+" -> "+e)}));return a}(e)})),s=Object(a.useState)(""),m=Object(l.a)(s,2),g=m[0],h=m[1],p=Object(a.useState)(i[0]),E=Object(l.a)(p,2),b=E[0],k=E[1],M=Object(a.useState)(""),C=Object(l.a)(M,2),x=C[0],S=C[1];return r.a.createElement("div",{style:{margin:50,border:"thin solid",padding:10}},r.a.createElement(o.a,{position:"static"},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:"h5"},"Adding items or ingredients to the Menu"))),r.a.createElement(j.a,{row:!0,style:{padding:20}},r.a.createElement(v.a,{variant:"outlined",value:g,onChange:function(e){return h(e.target.value)},label:"new menu item"}),r.a.createElement(y.a,{variant:"outlined",onClick:function(){c({type:"addNewMenu",payload:g}),h("")}},"Add new menu item")),r.a.createElement(j.a,{row:!0,style:{padding:20}},r.a.createElement(O.a,{autoWidth:!0,value:b,variant:"outlined",onChange:function(e){return k(e.target.value)}},i.map((function(e){return r.a.createElement(w.a,{key:e,selected:!0,value:e},e)}))),r.a.createElement(v.a,{variant:"outlined",label:"ingridient",value:x,onChange:function(e){return S(e.target.value)}}),r.a.createElement(y.a,{variant:"outlined",onClick:function(){c({type:"addNewIngredient",payload:{newIngredient:x,selectedMenu:b}}),S("")}},"Add ingridient to menu item")))},M=function(){var e=Object(a.useState)(""),t=Object(l.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),g=Object(l.a)(i,2),h=g[0],p=g[1],E=Object(a.useContext)(f),j=Object(l.a)(E,1)[0];return r.a.createElement("div",null,r.a.createElement(o.a,{position:"static",style:{marginBottom:10}},r.a.createElement(u.a,null,r.a.createElement(d.a,{variant:"h3"},"Restaurent Menu"))),r.a.createElement(s.a,{control:r.a.createElement(m.a,{checked:h,onChange:function(e){return p(!h)}}),label:"Allow adding to Menu"}),r.a.createElement(v.a,{value:n,onChange:function(e){return c(e.target.value)},label:"Search for allergen",variant:"outlined"}),r.a.createElement("div",{style:{margin:15,border:"thin solid navy"}},r.a.createElement("div",{style:{margin:5,padding:10,border:"thin solid navy"}},j.map((function(e,t){return r.a.createElement(b,{key:"menu-item"+t,menu:e,selection:n})})))),h&&r.a.createElement(k,null))},C=(n(63),function(){return r.a.createElement(p,null,r.a.createElement("div",{className:"App"},r.a.createElement(M,null)))});Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(r.a.createElement(C,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.59d9885f.chunk.js.map