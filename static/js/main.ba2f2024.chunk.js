(this["webpackJsonpcapmo-frontend-challenge"]=this["webpackJsonpcapmo-frontend-challenge"]||[]).push([[0],{54:function(e,t,n){e.exports=n(64)},59:function(e,t,n){},63:function(e,t,n){},64:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(9),c=n.n(i),o=(n(59),n(16)),u=n(98),l=n(99),d=n(65),s=n(104),m=n(107),v=n(106),g={menu:[{"Bacon & eggs":[{Bacon:[{Meat:[{Pork:[]}]}]},{"Ham Eggs":[{Egg:[]}]}]},{Hamburger:[{Meat:[{Pork:[]}]},{Bread:[{Flour:[]},{Water:[]}]},{Cheese:[{Milk:[]}]}]},{"English breakfast":[{"Fried eggs":[{Egg:[]}]},{Mushrooms:[]},{Sausages:[{Meat:[{Pork:[]}]}]},{Bread:[{Flour:[]},{Water:[]}]}]}]};function h(e,t){var n=e.menu,a={};switch(t.type){case"addNewMenu":return t.payload?(a[t.payload]=[],n.push(a),{menu:n}):e;case"addNewIngredient":var r=t.payload,i=r.selectedMenu,c=r.newIngredient;if(!c)return e;var o=i.split(" -> "),u=e.menu;return o.forEach((function(e){for(var t=0;t<Object.values(u).length;t++){var n=Object.values(u)[t],a=Object.keys(n)[0];if(a===e){u=n[a];break}}})),a[c]=[],u.push(a),{menu:n};default:throw new Error}}var p=function(e){var t=e.text,n=void 0===t?"provide text":t,a=e.depth,i=void 0===a?1:a,c=e.selection;return r.a.createElement(d.a,{variant:"h"+Math.min(6,i+3)},i>1&&"\u2514",i>1&&c?r.a.createElement("span",{dangerouslySetInnerHTML:{__html:n.replace(new RegExp(c,"gi"),(function(e){return"<mark>".concat(e,"</mark>")}))}}):n)},f=function e(t){var n=t.menu,i=void 0===n?{}:n,c=t.depth,u=void 0===c?1:c,l=t.selection,d=void 0===l?"":l,s=Object(a.useState)(!1),m=Object(o.a)(s,2),v=m[0],g=m[1];if(1===u&&!function e(t,n,a){if(""===a)return!0;var r=Object.keys(t)[0];return!!(n>1&&r.match(new RegExp(a,"gi")))||Object.values(t)[0].map((function(t){return e(t,n+1,a)})).includes(!0)}(i,u,d))return null;var h=Object.keys(i)[0],f=Object.values(i)[0],E=(v||u>1)&&f.map((function(t,n){return r.a.createElement(e,{key:"sub-item-"+n,menu:t,depth:u+1,selection:d})}));return r.a.createElement("div",{style:{border:"none thin gray",paddingLeft:20*u},onClick:function(){return g(!v)}},r.a.createElement(p,{text:h,depth:u,selection:d}),E)},E=n(100),b=n(103),y=n(105),w=n(109),j=function(e){var t=e.menu,n=e.dispatch,i=t.flatMap((function(e){return function e(t){var n=Object.keys(t)[0],a=[n],r=Object.values(t)[0];r.length>0&&r.flatMap((function(t){return e(t)})).forEach((function(e){a.push(n+" -> "+e)}));return a}(e)})),c=Object(a.useState)(""),s=Object(o.a)(c,2),m=s[0],g=s[1],h=Object(a.useState)(i[0]),p=Object(o.a)(h,2),f=p[0],j=p[1],k=Object(a.useState)(""),O=Object(o.a)(k,2),M=O[0],C=O[1];return r.a.createElement("div",{style:{margin:50,border:"thin solid",padding:10}},r.a.createElement(u.a,{position:"static"},r.a.createElement(l.a,null,r.a.createElement(d.a,{variant:"h5"},"Adding items or ingredients to the Menu"))),r.a.createElement(E.a,{row:!0,style:{padding:20}},r.a.createElement(v.a,{variant:"outlined",value:m,onChange:function(e){return g(e.target.value)},label:"new menu item"}),r.a.createElement(b.a,{variant:"outlined",onClick:function(){n({type:"addNewMenu",payload:m}),g("")}},"Add new menu item")),r.a.createElement(E.a,{row:!0,style:{padding:20}},r.a.createElement(y.a,{autoWidth:!0,value:f,variant:"outlined",onChange:function(e){return j(e.target.value)}},i.map((function(e){return r.a.createElement(w.a,{key:e,selected:!0,value:e},e)}))),r.a.createElement(v.a,{variant:"outlined",label:"ingridient",value:M,onChange:function(e){return C(e.target.value)}}),r.a.createElement(b.a,{variant:"outlined",onClick:function(){n({type:"addNewIngredient",payload:{newIngredient:M,selectedMenu:f}}),C("")}},"Add ingridient to menu item")))},k=function(){var e=Object(a.useState)(""),t=Object(o.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(!1),p=Object(o.a)(c,2),E=p[0],b=p[1],y=Object(a.useReducer)(h,g),w=Object(o.a)(y,2),k=w[0],O=w[1],M=k.menu;return r.a.createElement("div",null,r.a.createElement(u.a,{position:"static",style:{marginBottom:10}},r.a.createElement(l.a,null,r.a.createElement(d.a,{variant:"h3"},"Restaurent Menu"))),r.a.createElement(s.a,{control:r.a.createElement(m.a,{checked:E,onChange:function(e){return b(!E)}}),label:"Allow adding to Menu"}),r.a.createElement(v.a,{value:n,onChange:function(e){return i(e.target.value)},label:"Search for allergen",variant:"outlined"}),r.a.createElement("div",{style:{margin:15,border:"thin solid navy"}},r.a.createElement("div",{style:{margin:5,padding:10,border:"thin solid navy"}},M.map((function(e,t){return r.a.createElement(f,{key:"menu-item"+t,menu:e,selection:n})})))),E&&r.a.createElement(j,{menu:M,dispatch:O}))};n(63);var O=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(k,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[54,1,2]]]);
//# sourceMappingURL=main.ba2f2024.chunk.js.map